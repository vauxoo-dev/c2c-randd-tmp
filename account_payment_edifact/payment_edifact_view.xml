<?xml version="1.0" encoding="UTF-8"?>
<openerp>
  <data>
    <record id="view_payment_type_edifact_form" model="ir.ui.view">
      <field name="name">payment.type.edifact.form</field>
      <field name="model">payment.type</field>
      <field name="type">form</field>
      <field name="inherit_id" ref="c2c_account_payment_extension.c2c_view_payment_type_form"/>
      <field name="arch" type="xml">
        <field name="code" position="after">
          <field name="charges_alloc"/>
        </field>
      </field>
    </record>
    <!-- bank, make country mandatory-->
    <record model="ir.ui.view" id="c2c_view_res_bank_form">
      <field name="name">res.bank.form.c2c</field>
      <field name="model">res.bank</field>
      <field name="inherit_id" ref="base.view_res_bank_form"/>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <field name="country" position="replace">
          <field name="country" select="2" required="1"/>
        </field>
      </field>
    </record>
    <!-- paymentline ,show bank account type-->
    <record model="ir.ui.view" id="c2c_view_payment_line_tree">
      <field name="name">payment.line.c2c</field>
      <field name="model">payment.line</field>
      <field name="inherit_id" ref="account_payment.view_payment_line_tree"/>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <field name="bank_id" position="after">
          <field name="bank_account_type" select="2"/>
        </field>
      </field>
    </record>
    <record model="ir.ui.view" id="c2c_view_payment_line_form">
      <field name="name">payment.line.form.c2c</field>
      <field name="model">payment.line</field>
      <field name="inherit_id" ref="account_payment.view_payment_line_form"/>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <field name="bank_id" position="after">
          <field name="bank_account_type" select="2"/>
        </field>
      </field>
    </record>
    <record model="ir.ui.view" id="c2c_view_payment_order_form">
      <field name="name">payment.order.form.c2c</field>
      <field name="model">payment.order</field>
      <field name="inherit_id" ref="account_payment.view_payment_order_form"/>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <field name="bank_id" position="after">
          <field name="bank_account_type" select="2"/>
        </field>
      </field>
    </record>
    <record model="ir.ui.view" id="c2c_view_payment_order_form">
      <field name="name">payment.order.form.c2c</field>
      <field name="model">payment.order</field>
      <field name="inherit_id" ref="account_payment.view_payment_order_form"/>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <xpath expr="/form/field/tree/field[@name='bank_id']" position="after">
          <field name="bank_account_type" select="2" invisible="1"/>
        </xpath>
      </field>
    </record>
    <record model="ir.ui.view" id="c2c_view_payment_order_form2">
      <field name="name">payment.order.form2.c2c</field>
      <field name="model">payment.order</field>
      <field name="inherit_id" ref="account_payment.view_payment_order_form"/>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <xpath expr="/form/field/tree" position="attributes">
          <attribute name="colors">blue:bank_account_type != 'iban'</attribute>
        </xpath>
      </field>
    </record>
  </data>
</openerp>
